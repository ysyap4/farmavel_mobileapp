<!--
  Generated template for the AvailabilityPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Availability</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="content-image-background">

  <form [formGroup]="availabilityForm">
    <ion-list id="container">

        <h4 class="title-padding">Check Medicine Availability</h4>
          
      <ion-label color="primary" style="margin-left:10px;">Medicine Name</ion-label>
        <ion-item class="input-rounded">
          <ion-input [formControl]="availabilityForm.controls['medicine']" name="medicine" type="text" required>
            </ion-input>
        </ion-item>
      <p *ngIf="!availabilityForm.controls.medicine.valid && availabilityForm.controls.medicine.dirty" color="danger" padding-left>
        Medicine Name field is required
      </p>
          
      <ion-label color="primary" style="margin-left:10px; margin-top:20px">Appointment Location</ion-label>
        <ion-item class="input-rounded">
          <ion-select id="ionselect_maxwidth" [formControl]="availabilityForm.controls['location']" name="location" type="text" required>
            <ion-label>Appointment Location</ion-label>
            <ion-option value="Batu Pahat">Batu Pahat</ion-option>
            <ion-option value="Johor Bahru">Johor Bahru</ion-option>
            <ion-option value="Muar">Muar</ion-option>
            <ion-option value="Segamat">Segamat</ion-option>
            <ion-option value="Kulaijaya">Kulaijaya</ion-option>
          </ion-select>
        </ion-item>
      <p *ngIf="!availabilityForm.controls.location.valid && availabilityForm.controls.location.dirty" color="danger" padding-left>
        Appointment Location field is required
      </p>
    
    </ion-list>
    
    <ion-row responsive-sm>
      <ion-col>
        <button ion-button (click)="check_medicine_availability()" type="submit" class="rounded" color="pacific-dream" block>Check</button>
        <br>
      </ion-col>
    </ion-row>

    <ion-list *ngIf="get_medicine && get_vas == 1">
        <ion-item (click)="make_appointment(get_medicine)" class="input-rounded">
          <ion-row>
          <ion-col>
            <h2> {{get_medicine.med_name}} </h2>
          </ion-col>
          <ion-col style="text-align: right;">
            <h2> Available Now </h2>
          </ion-col>
          </ion-row>
        </ion-item>
    </ion-list>

    <ion-list *ngIf="get_medicine && get_vas == 0">
      <ion-item class="input-rounded">
        <ion-row>
          <ion-col>
            <h2> {{get_medicine.med_name}} </h2>
          </ion-col>
          <ion-col style="text-align: right;">
            <h2> Not Available Now </h2>
          </ion-col>
        </ion-row>
      </ion-item>
    </ion-list>

  </form>

</ion-content>
